(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89791ad4"],{"64ae":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex flex-row pb-3"},[e("div",{staticClass:"w-1/2"},[e("el-input",{attrs:{placeholder:"Buscar por nombre, apellido o correo electrÃ³nico"},model:{value:t.querySearch,callback:function(e){t.querySearch=e},expression:"querySearch"}},[e("i",{staticClass:"mt-2 text-xl bx bx-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),e("div",{staticClass:"py-2"},[e("div",{staticClass:"block w-full overflow-x-auto"},[e("table",{staticClass:"items-center w-full border-collapse"},[t._m(0),e("tbody",[t.clients.length?t._e():e("tr",[e("td",{attrs:{colspan:6}},[e("div",{staticClass:"flex flex-col w-full py-8 text-center"},[e("span",[t._v(t._s(t.emptyMessage))])])])]),t._l(t.clients,(function(a){return e("tr",{key:a.id,staticClass:"cursor-pointer hover:bg-gray-100 hover:shadow"},[e("td",{staticClass:"p-2 border-t",staticStyle:{"min-width":"50px",width:"50px"}},[e("el-popover",{attrs:{placement:"right",width:"100",trigger:"hover"}},[e("div",{staticClass:"w-full flex flex-row text-center"},[e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--primary rounded-full cursor-pointer",attrs:{title:"Editar"},on:{click:function(e){return t.onEdit(a)}}},[e("i",{staticClass:"bx bx-edit",staticStyle:{padding:"4px","font-size":"20px"}})])]),e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--danger rounded-full cursor-pointer",attrs:{title:"Eliminar"},on:{click:function(e){return t.onDelete(a)}}},[e("i",{staticClass:"bx bx-trash",staticStyle:{padding:"4px","font-size":"20px"}})])])]),e("el-button",{staticClass:"w-full",attrs:{slot:"reference",type:"text"},slot:"reference"},[e("button",{staticClass:"el-button--primary rounded-full cursor-pointer"},[e("i",{staticClass:"text-2xl bx bx-chevron-right"})])])],1)],1),e("td",{staticClass:"p-2 border-t"},[t._v(" "+t._s(a.fullName)+" ")]),e("td",{staticClass:"p-2 border-t"},[t._v(" "+t._s(a.email)+" ")]),e("td",{staticClass:"p-2 border-t"},[t._v(" "+t._s(a.phone)+" ")])])}))],2)])])])])},r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticClass:"px-2 border-b-2"},[e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"}),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"},[t._v(" Nombre ")]),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"},[t._v(" Email ")]),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"},[t._v(" TelÃ©fono ")])])])}],l=a("2ef0"),i=a.n(l),n=a("c134"),o=a("0517"),c={name:"ClientsList",mixins:[o["a"]],data(){return{querySearch:null,clients:[],loadingClientes:!1,clientProps:[{key:"fullName",label:"Nombre"},{key:"email",label:"Email"},{key:"phone",label:"TelÃ©fono"}]}},computed:{emptyMessage(){return null!==this.querySearch?`No se encontraron clientes que coincidan con "${this.querySearch}"`:"No se han agregado clientes"}},watch:{querySearch:i.a.debounce((async function(t){this.clients=await this.loadClients(t)}),500)},async mounted(){this.clients=await this.loadClients()},methods:{async loadClients(t){try{return await n["a"].getAll({textSearch:t})}catch(o){this.$toastr.error(this.getErrorMessage(o))}},onEdit(t){this.$emit("onEdit",t)},onDelete(t){this.$confirm(`Â¿EstÃ¡ seguro que desea eliminar al cliente ${t.fullName}?`,{type:"warning",confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then(async()=>{await this.remove(t)})},async remove(t){try{await n["a"].remove(t.id);const e=this.clients.findIndex(e=>e.id===t.id);this.clients.splice(e,1),this.$toastr.s("Se borro con exito")}catch{this.$toastr.e("OcurriÃ³ un error al eliminar el cliente")}}}},u=c,d=a("2877"),p=Object(d["a"])(u,s,r,!1,null,null,null);e["default"]=p.exports},c134:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var s=a("c177");class r{static async getAll(t){var e;const a=await s["a"].submit({method:"get",url:"clients",parameters:t});return null!==(e=a.data)&&void 0!==e?e:null}static async getbyId(t){var e;const a=await s["a"].submit({method:"get",url:"clients/"+t});return null!==(e=a.data)&&void 0!==e?e:null}static async create(t){var e;const a=await s["a"].submit({method:"post",url:"clients",data:t});return null!==(e=a.data)&&void 0!==e?e:null}static async update(t,e){var a;const r=await s["a"].submit({method:"put",url:"clients/"+t,data:e});return null!==(a=r.data)&&void 0!==a?a:null}static async remove(t){var e;const a=await s["a"].submit({method:"delete",url:"clients/"+t});return null!==(e=a.data)&&void 0!==e?e:null}}}}]);
//# sourceMappingURL=chunk-89791ad4.d6088228.js.map