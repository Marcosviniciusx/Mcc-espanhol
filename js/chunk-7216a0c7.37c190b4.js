(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7216a0c7"],{"097c":function(t,e,s){"use strict";var a=s("4081");const i=a["c"].mapGetResponse,r=t=>{const e={};for(let i=0;i<t.length;i++){const r=t[i];e[r.id]={};for(let t=0;t<r.orderDeviceServices.length;t++){var s;const a=r.orderDeviceServices[t];e[r.id][a.id]={...a,name:(null===(s=a.serviceCategory)||void 0===s?void 0:s.name)||a.name||"- Servicio",type:"Servicio",quantity:1,total:1*a.price}}for(let t=0;t<r.orderDeviceProducts.length;t++){var a;const s=r.orderDeviceProducts[t];e[r.id][s.id]={...s,name:(null===(a=s.productCategory)||void 0===a?void 0:a.name)||s.name||"- Producto",type:"Producto",quantity:s.quantity,total:s.price*s.quantity}}}return e};e["a"]={mapGetResponse:i,mapGetBreakdownResume:r}},"374b":function(t,e,s){},"4ab3":function(t,e,s){t.exports=s.p+"img/stamp-warranty.be4d4594.png"},"59a7":function(t,e,s){"use strict";function a(t){switch(t){case 1:return"Un";case 2:return"Dos";case 3:return"Tres";case 4:return"Cuatro";case 5:return"Cinco";case 6:return"Seis";case 7:return"Siete";case 8:return"Ocho";case 9:return"Nueve";default:return""}}function i(t,e){return e>0?t+" y "+a(e):t}function r(t){var e=Math.floor(t/10),s=t-10*e;switch(e){case 1:switch(s){case 0:return"Diez";case 1:return"Once";case 2:return"Doce";case 3:return"Trece";case 4:return"Catorce";case 5:return"Quince";default:return"Dieci"+a(s).toLowerCase()}case 2:switch(s){case 0:return"Veinte";default:return"Veinti"+a(s).toLowerCase()}case 3:return i("Treinta",s);case 4:return i("Cuarenta",s);case 5:return i("Cincuenta",s);case 6:return i("Sesenta",s);case 7:return i("Setenta",s);case 8:return i("Ochenta",s);case 9:return i("Noventa",s);case 0:return a(s);default:return""}}function o(t){var e=Math.floor(t/100),s=t-100*e;switch(e){case 1:return s>0?"Ciento "+r(s):"Cien";case 2:return"Doscientos "+r(s);case 3:return"Trescientos "+r(s);case 4:return"Cuatrocientos "+r(s);case 5:return"Quinientos "+r(s);case 6:return"Seiscientos "+r(s);case 7:return"Setecientos "+r(s);case 8:return"Ochocientos "+r(s);case 9:return"Novecientos "+r(s);default:return r(s)}}function l(t,e,s,a){var i=Math.floor(t/e),r=t-i*e,l="";return i>0&&(l=i>1?o(i)+" "+a:s),r>0&&(l+=""),l}function n(t){var e=1e3,s=Math.floor(t/e),a=t-s*e,i=l(t,e,"Un Mil","Mil"),r=o(a);return""===i?r:(i+" "+r).trim()}function c(t){var e=1e6,s=Math.floor(t/e),a=t-s*e,i=l(t,e,"Un MillÃ³n de","Millones de"),r=n(a);return""===i?r:(i+" "+r).trim()}function d(t){var e={numero:t,enteros:Math.floor(t),centavos:Math.round(100*t)-100*Math.floor(t),letrasCentavos:"",letrasMonedaPlural:"Pesos",letrasMonedaSingular:"Peso",letrasMonedaCentavoPlural:"/100 M.N.",letrasMonedaCentavoSingular:"/100 M.N."};return e.centavos>=0&&(e.letrasCentavos=function(){return e.centavos>=1&e.centavos<=9?"0"+e.centavos+e.letrasMonedaCentavoSingular:0===e.centavos?"00"+e.letrasMonedaCentavoSingular:e.centavos+e.letrasMonedaCentavoPlural}()),0===e.enteros?("Cero "+e.letrasMonedaPlural+" "+e.letrasCentavos).trim():1===e.enteros?(c(e.enteros)+" "+e.letrasMonedaSingular+" "+e.letrasCentavos).trim():(c(e.enteros)+" "+e.letrasMonedaPlural+" "+e.letrasCentavos).trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.NumerosALetras=d},"84a9":function(t,e,s){t.exports=s.p+"img/mini-responsive-samii.cf623f75.png"},ef2e:function(t,e,s){"use strict";s.r(e);s("14d9"),s("13d5");var a=function(){var t,e,a=this,i=a._self._c;return i("lock-scroll",{attrs:{locked:a.lockScroll}},[i("lock-screen",{attrs:{locked:a.lockScreen}}),i("app-layout",[i("div",{staticClass:"flex flex-col items-center pb-32"},[i("div",{staticClass:"w-full px-6 pt-6 2xl:w-3/5 2xl:px-0"},[i("div",{staticClass:"w-full mb-4 space-y-4"},[i("div",{staticClass:"flex flex-col md:flex-row py-4"},[i("div",{staticClass:"flex flex-row items-center"},[i("sa-icon-button",{attrs:{"with-bg":"",iconClass:"bx bx-left-arrow-alt"},on:{click:function(t){return a.$router.push({name:"orders.read",params:{id:a.order.id}})}}}),i("span",{staticClass:"mx-2 text-lg font-bold"},[a._v(" Factura ")])],1),i("div",{staticClass:"flex flex-row items-center ml-auto"},[i("div",{staticClass:"whitespace-nowrap"},[i("quick-start-tip",{attrs:{title:"Imprime tus recibos",content:"Puedes imprimir tus ordenes en diferentes formatos (Carta, Termico y Stickers).",placement:"bottom","bg-purple":!1,value:9===a.activeQuickStartTip},on:{onNextStep:a.handleNextStep}},[i("div",{staticClass:"inline-block",class:{"quick-start-selected":9===a.$store.state.quickStart.step}},[a.id&&!a.isMobile?i("el-dropdown",{staticClass:"mx-2",attrs:{"split-button":"",type:"warning"},on:{click:a.print,command:a.print}},[i("span",[a._v("Imprimir")]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{disabled:""}},[a._v("Carta")]),i("el-dropdown-item",{attrs:{command:"thermal"}},[a._v("TÃ©rmico")]),i("el-dropdown-item",{attrs:{command:"sticker"}},[a._v("Sticker")])],1)],1):a._e()],1)]),a.id&&a.isMobile?i("el-button-group",{staticClass:"mr-2",staticStyle:{"margin-top":"-6px"}},[i("span",{staticClass:"el-button el-button--warning p-2",on:{click:a.print}},[i("i",{staticClass:"text-md bx bx-printer"})]),i("el-dropdown",{attrs:{trigger:"click"},on:{command:a.print}},[i("span",{staticClass:"el-button el-button--warning p-2"},[i("i",{staticClass:"text-md el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{disabled:""}},[a._v("Carta")]),i("el-dropdown-item",{attrs:{command:"thermal"}},[a._v("TÃ©rmico")]),i("el-dropdown-item",{attrs:{command:"sticker"}},[a._v("Sticker")])],1)],1)],1):a._e(),i("quick-start-tip",{attrs:{title:"EnvÃ­a un WhatsApp a tu cliente",content:"Puede enviar un mensaje directamente al WhatsApp del cliente,\n                  si el cliente registrÃ³ su telefono.",placement:"bottom","bg-purple":!1,value:10===a.activeQuickStartTip},on:{onNextStep:a.handleNextStep}},[i("div",{staticClass:"inline-block",class:{"quick-start-selected":10===a.$store.state.quickStart.step}},[a.id?i("el-button",{staticClass:"el-button--success",class:{"p-2":a.isMobile},on:{click:a.whatsapp}},[a.isMobile?a._e():i("span",[a._v("WhatsApp")]),a.isMobile?i("i",{staticClass:"text-md bx bxl-whatsapp"}):a._e()]):a._e()],1)]),i("el-button",{staticClass:"el-button--primary",class:{"p-2":a.isMobile},on:{click:function(t){return a.$router.push({name:"orders.index"})}}},[a.isMobile?a._e():i("span",[a._v("Guardar")]),a.isMobile?i("i",{staticClass:"text-md bx bx-save"}):a._e()])],1)])])]),i("div",{staticClass:"w-full mb-4 space-y-4 relative",attrs:{id:"print-area"}},[i("div",{staticClass:"flex flex-row items-center text-center py-2",staticStyle:{"justify-content":"space-between"}},[i("div",{staticClass:"w-1/3 bill-header"},[i("div",{staticClass:"w-full flex flex-row items-center"},[a.logo?a._e():i("img",{attrs:{src:s("84a9"),alt:"",width:"70px"}}),a.logo?i("img",{style:a.samiiInvoicesLogoSize,attrs:{src:a.logo,alt:""}}):a._e(),i("span",{staticClass:"font-bold text-gray-600 text-3xl font-headline ml-1"},[a._v(" "+a._s(a.$store.state.business.name||"Fixme up")+" ")])])]),i("div",{staticClass:"w-1/3 bill-header"},[i("div",{staticClass:"w-full"},[i("div",{staticClass:"border bill-container"},[a._v("# Orden")]),i("div",{staticClass:"border"},[i("div",[i("strong",[a._v(a._s(a.order.reference))])]),i("div",[i("strong",[a._v(a._s(a.todayDate))])]),i("div",[i("strong",[a._v(a._s(a.dueDate))])])])])]),i("div",{staticClass:"bill-header"},[i("quick-start-tip",{attrs:{title:"Seguimiento por QR",content:"Tu cliente puede dar seguimiento a su orden mediante el QR que se genera en su ticket",placement:"bottom","bg-purple":!1,value:11===a.activeQuickStartTip},on:{onNextStep:a.handleNextStep}},[i("div",{class:{"quick-start-selected":11===a.$store.state.quickStart.step}},[i("qr-code",{attrs:{value:a.qrCodeValue,size:"100",level:"H"}})],1)])],1)]),i("div",{staticClass:"-mx-5 border-t border-gray-200"}),i("div",{staticClass:"w-full flex flex-row py-2"},[i("div",{staticClass:"w-1/2 mr-1"},[i("div",{staticClass:"border bill-container"},[a._v("Negocio")]),i("div",{staticClass:"border"},[i("div",[i("strong",[a._v("Nombre:")]),a._v(" "+a._s(a.$store.state.business.name))]),i("div",[i("strong",[a._v("TelÃ©fono:")]),a._v(" "+a._s(a.businessPhone))]),i("div",[i("strong",[a._v("DirecciÃ³n:")]),a._v(" "+a._s(a.$store.state.business.address))])])]),i("div",{staticClass:"w-1/2 ml-1"},[i("div",{staticClass:"border bill-container"},[a._v("Cliente")]),i("div",{staticClass:"border"},[i("div",[i("strong",[a._v("Nombre:")]),a._v(" "+a._s(a.order.client.fullName))]),i("div",[i("strong",[a._v("TelÃ©fono:")]),a._v(" "+a._s(a.order.client.phone))]),i("div",[i("strong",[a._v("Corre:")]),a._v(" "+a._s(a.order.client.email))]),a.order.client.dni?i("div",[i("strong",[a._v("Numero de IdentificaciÃ³n:")]),a._v(" "+a._s(a.order.client.dni)+" ")]):a._e(),a.order.client.contactDescription?i("div",[i("strong",[a._v("DirecciÃ³n:")]),a._v(" "+a._s(a.order.client.contactDescription)+" ")]):a._e()])])]),i("div",{staticClass:"-mx-5 border-t border-gray-200"}),null!==(t=a.order.orderDevices)&&void 0!==t&&t.length?i("div",{staticClass:"w-full items-center text-center py-2"},[i("div",{staticClass:"border bill-container"},[a._v("Datos del Equipo")]),i("div",{staticClass:"border block w-full overflow-x-auto"},[i("div",{staticClass:"w-full flex flex-row border-b"},[i("div",{staticClass:"w-1/12 font-bold text-center px-2"},[a._v(" # ")]),i("div",{staticClass:"w-3/12 font-bold text-left px-2"},[a._v(" Modelo ")]),i("div",{staticClass:"w-3/12 font-bold text-left px-2"},[a._v(" Nota (DescripciÃ³n) ")]),i("div",{staticClass:"w-1/12 font-bold text-left px-2"},[a._v(" Cantidad ")]),i("div",{staticClass:"w-2/12 font-bold text-right px-2"},[a._v(" Precio ")]),i("div",{staticClass:"w-2/12 font-bold text-right px-2"},[a._v(" Total ")])]),a._l(a.order.orderDevices,(function(t,e){return i("div",{key:t.id,staticClass:"w-full flex flex-row border-b"},[i("div",{staticClass:"w-1/12 text-center"},[a._v(" "+a._s(e+1)+"- ")]),i("div",{staticClass:"w-11/12 text-left"},[i("div",{staticClass:"w-12/12 flex flex-row"},[i("div",{staticClass:"w-3/12"},[a._v(" "+a._s(`${t.deviceModel.brand} - ${t.deviceModel.model}`)+" ")]),i("div",{staticClass:"w-3/12"},[a._v(" "+a._s(t.diagnosticNotes)+" ")])]),i("div",{staticClass:"w-12/12"},[a._v(" IMEI: "+a._s(t.imei)+" ")]),1===t.deviceLockType?i("div",{staticClass:"w-12/12"},[a._v(" PASSCODE: "+a._s(t.passcode)+" ")]):a._e(),2===t.deviceLockType?i("div",{staticClass:"w-12/12"},[a._v(" PATRON: "+a._s(t.pattern)+" ")]):a._e(),i("div",{staticClass:"border-t py-2"},[a._l(a.breakdownResume[t.id],(function(t){return i("div",{key:t.id,staticClass:"w-full flex flex-col border-b"},[i("div",{staticClass:"w-full flex flex-row"},[i("div",{staticClass:"w-3/12 text-left px-2",staticStyle:{"word-break":"break-word"}},[a._v(" - "+a._s(t.name)+" ")]),i("div",{staticClass:"w-4/12 text-left px-2",staticStyle:{"word-break":"break-word"}},[a._v(" "+a._s(t.description)+" ")]),i("div",{staticClass:"w-1/12 text-left px-2",staticStyle:{"word-break":"break-word"}},[a._v(" "+a._s(t.quantity)+" ")]),i("div",{staticClass:"w-2/12 text-right px-2",staticStyle:{"word-break":"break-word"}},[a._v(" "+a._s(a.moneyFormat(t.price))+" ")]),i("div",{staticClass:"w-2/12 text-right px-2",staticStyle:{"word-break":"break-word"}},[a._v(" "+a._s(a.moneyFormat(t.total))+" ")])])])})),t.hasWarranty?i("div",{staticClass:"w-full"},[a._v(" GarantÃ­a: "+a._s(`${t.warrantyDays} ${1===t.warrantyDays?"Dia":"Dias"}`)+" ")]):a._e(),i("div",{staticClass:"w-full flex flex-col border-t p-2 text-xs"},[i("div",{staticClass:"flex justify-between"},a._l(a.checklist(t.checklistItems).even,(function(t){return i("div",{key:t.id,staticClass:"cursor-not-allowed"},[a._v(" "+a._s(t.name)+": "),i("i",{class:"text-sm bx "+(t.value?"bx-check":"bx-x")})])})),0),i("div",{staticClass:"flex justify-between"},a._l(a.checklist(t.checklistItems).odd,(function(t){return i("div",{key:t.id,staticClass:"cursor-not-allowed"},[a._v(" "+a._s(t.name)+": "),i("i",{class:"text-sm bx "+(t.value?"bx-check":"bx-x")})])})),0)])],2)])])}))],2)]):a._e(),null!==(e=a.order.orderProducts)&&void 0!==e&&e.length?i("div",{staticClass:"w-full items-center text-center py-2"},[i("div",{staticClass:"border bill-container"},[a._v("Ventas")]),i("div",{staticClass:"border block w-full overflow-x-auto"},[i("div",{staticClass:"w-full flex flex-row border-b"},[i("div",{staticClass:"w-1/12 font-bold text-center px-2"},[a._v(" # ")]),i("div",{staticClass:"w-4/12 font-bold text-left px-2"},[a._v(" Producto ")]),i("div",{staticClass:"w-2/12 font-bold text-left px-2"},[a._v(" Cantidad ")]),i("div",{staticClass:"w-2/12 font-bold text-left px-2"},[a._v(" Precio unit. ")]),i("div",{staticClass:"w-3/12 font-bold text-right px-2"},[a._v(" Precio ")])]),a._l(a.order.orderProducts,(function(t,e){return i("div",{key:t.id,staticClass:"w-full flex flex-row border-b"},[i("div",{staticClass:"w-full flex flex-row"},[i("div",{staticClass:"w-1/12 text-center px-2"},[a._v(" "+a._s(e+1)+" - ")]),i("div",{staticClass:"w-4/12 text-left px-2"},[a._v(" "+a._s(t.name)+" ")]),i("div",{staticClass:"w-2/12 text-left px-2"},[a._v(" "+a._s(t.quantity||1)+" ")]),i("div",{staticClass:"w-2/12 text-right px-2"},[a._v(" "+a._s(a.moneyFormat(t.price))+" ")]),i("div",{staticClass:"w-3/12 text-right px-2"},[a._v(" "+a._s(a.moneyFormat(t.price*(t.quantity||1)))+" ")])])])}))],2)]):a._e(),i("div",{staticClass:"-mx-5 border-t border-gray-200"}),i("div",{staticClass:"w-full flex flex-row py-2"},[i("div",{staticClass:"w-1/2 mr-1 uppercase",staticStyle:{visibility:"hidden"}},[a._v(" TOTAL EN LETRA: "+a._s(a._f("moneyToWords")(a.order.totalAmount))+" ")]),i("div",{staticClass:"w-1/2 ml-1 bill-summary"},[i("div",{staticClass:"w-full flex flex-row"},[i("div",{staticClass:"border bill-container"},[a._v("Anticipo")]),i("div",{staticClass:"border grid text-right"},[a._v(" "+a._s(a.moneyFormat(a.order.orderAdvances.reduce((t,e)=>t-e.advanceAmount,0)))+" ")])]),i("div",{staticClass:"w-full flex flex-row"},[i("div",{staticClass:"border bill-container"},[a._v("Subtotal")]),i("div",{staticClass:"border grid text-right"},[a._v(a._s(a.moneyFormat(a.order.subtotalAmount)))])]),i("div",{staticClass:"w-full flex flex-row"},[i("div",{staticClass:"border bill-container"},[a._v("Impuesto "+a._s(a.order.taxRate)+"%")]),i("div",{staticClass:"border grid text-right"},[a._v(a._s(a.moneyFormat(a.order.taxAmount)))])]),i("div",{staticClass:"w-full flex flex-row"},[i("div",{staticClass:"border bill-container"},[a._v("TOTAL")]),i("div",{staticClass:"border grid text-right"},[a._v(a._s(a.moneyFormat(a.order.totalAmount)))])])])]),i("div",{staticClass:"-mx-5 border-t border-gray-200"}),i("div",{staticClass:"w-full pt-2"},[a._v(" Metodo de Pago: ")]),i("div",{staticClass:"w-full py-2"},[i("div",{staticClass:"border bill-container"},[a._v("GarantÃ­a")]),i("div",{staticClass:"border text-sm"},[a._v(" Â "+a._s(a.policy)+" ")])]),i("div",{staticClass:"w-full py-2 pt-12 text-center"},[i("div",{staticClass:"m-auto my-1",staticStyle:{width:"250px",height:"1px","background-color":"black"}}),i("div",[a._v("Nombre y Firma")]),i("div",[a._v("Cliente")])]),i("div",{staticClass:"w-full absolute top-0 left-0"},[i("img",{staticStyle:{opacity:"0.3"},attrs:{src:a.watermark,alt:""}})])])])])])],1)},i=[],r=s("7ab9"),o=s("cfd9"),l=s("1268"),n=s("7459"),c=s("5a50"),d=s("4ab3"),u=s.n(d),v=s("f2c3"),p=s.n(v),m=s("097c"),f=s("e419"),b=s("8266"),w=s("4cf1"),x={name:"InvoiceDefault",mixins:[b["a"]],components:{AppLayout:()=>s.e("chunk-1cb29fe6").then(s.bind(null,"c987"))},data(){return{id:void 0,stamp:void 0,order:{client:{fullName:null,phone:null,email:null,contactDescription:null,dni:null},orderDevices:[],orderAdvances:[],orderProducts:[]},policy:null,categoryEnum:{[c["c"].Phone]:"TelÃ©fono",[c["c"].Tablet]:"Tableta",[c["c"].Laptop]:"Computadora PortÃ¡til",[c["c"].Desktop]:"Computadora Escritorio",[c["c"].Wearable]:"Usable"},OrderStamp:c["j"],breakdownResume:{},isMobile:!1,activeQuickStartTip:0,lockScroll:!1,lockScreen:!1}},created(){window.addEventListener("resize",this.resize),this.resize()},destroyed(){window.removeEventListener("resize",this.resize)},mounted(){this.id=this.$route.params.id,this.lockScreen=this.$route.params.lockScreen||!1,this.load(),this.loadPolicy()},computed:{dueDate(){return this.order.dueDate?this.$moment(this.order.dueDate).format("MM/DD/YYYY"):null},todayDate(){return this.$moment(new Date).format("MM/DD/YYYY hh:mm:ss A")},logo(){return r["a"].logo()},businessPhone(){var t;const e=null===(t=this.$store.state.business.phone)||void 0===t?void 0:t.split("|");return e?`+${e[0]} ${e[1]}`:""},client(){return{fullname:this.order.client?this.order.client.fullName:"",email:this.order.client?this.order.client.email:"",phone:this.order.client?this.order.client.phone:""}},watermark(){return this.stamp===c["j"].Warranty?u.a:this.stamp===c["j"].Pay?p.a:null},qrCodeValue(){return`${window.location.origin}/my-order-status/${this.id}`},samiiInvoicesLogoSize(){const t=localStorage.getItem("samii-invoices-logo-size");return t?JSON.parse(t):{width:"100px !important",height:"100px !important"}}},methods:{whatsapp(){this.order.client.countryCode?Object(f["a"])({code:this.order.client.countryCode,phone:this.order.client.phone,text:`Hola te envÃ­o el comprobante de tu orden.${c["u"].br}${c["u"].br}*${this.qrCodeValue}*`}):this.$toastr.e("El Cliente debe tener registrado el CÃ³digo de Area")},print(t){"string"===typeof t?this.$router.push({name:"invoices."+t,params:{id:this.id}}):window.print()},async load(){const t=await o["a"].getById(this.id);this.order=m["a"].mapGetResponse(t),this.stamp=this.order.signals.paid?c["j"].Pay:this.order.signals.warranty?c["j"].Warranty:void 0,this.breakdownResume=m["a"].mapGetBreakdownResume(this.order.orderDevices),this.activeQuickStartTip=this.$store.state.quickStart.step,this.text&&this.whatsapp()},async loadPolicy(){const{policy:t}=await n["a"].PoliciesAndTemplates.read();t&&(this.policy=t)},moneyFormat(t){const{currencySymbol:e}=this.$store.state.account;return l["a"].moneyFormat(t,e)},checklist(t){const e=[],s=[];return this.$store.state.checklistItems.entities.map((a,i)=>{const r=t.find(t=>t.checklistId===a.id);i%2===0?e.push({id:a.id,name:a.name,value:!!r&&r.value}):s.push({id:a.id,name:a.name,value:!!r&&r.value})}),{even:e,odd:s}},resize(){const t=this.getPercentageWidth();this.isMobile="90%"===t},handleNextStep(){const t=this.$store.state.quickStart.step;this.$store.dispatch(w["b"],{step:t+1}),this.activeQuickStartTip++,12===this.activeQuickStartTip&&(this.$store.dispatch(w["b"],{step:0}),localStorage.setItem("samii-quick-start","done"),this.$router.push({name:"home.index"}))}},filters:{moneyToWords(t){return window.convertir=s("59a7"),window.convertir.NumerosALetras(t)}}},C=x,h=(s("fe41"),s("2877")),_=Object(h["a"])(C,a,i,!1,null,"80dcd8b8",null);e["default"]=_.exports},f2c3:function(t,e,s){t.exports=s.p+"img/stamp-pay.3f3b740e.png"},fe41:function(t,e,s){"use strict";s("374b")}}]);
//# sourceMappingURL=chunk-7216a0c7.37c190b4.js.map