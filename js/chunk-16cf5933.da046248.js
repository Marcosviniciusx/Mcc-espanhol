(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16cf5933"],{"2a95":function(e,r,t){"use strict";(function(e){function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(this,arguments)}function i(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,a(e,r)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,r){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},a(e,r)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,r,t){return u=s()?Reflect.construct.bind():function(e,r,t){var n=[null];n.push.apply(n,r);var i=Function.bind.apply(e,n),o=new i;return t&&a(o,t.prototype),o},u.apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function c(e){var r="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||!d(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return u(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},c(e)}t.d(r,"a",(function(){return ne}));var l=/%[sdj%]/g,f=function(){};function p(e){if(!e||!e.length)return null;var r={};return e.forEach((function(e){var t=e.field;r[t]=r[t]||[],r[t].push(e)})),r}function v(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var i=0,o=t.length;if("function"===typeof e)return e.apply(null,t);if("string"===typeof e){var a=e.replace(l,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(r){return"[Circular]"}break;default:return e}}));return a}return e}function y(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function m(e,r){return void 0===e||null===e||(!("array"!==r||!Array.isArray(e)||e.length)||!(!y(r)||"string"!==typeof e||e))}function h(e,r,t){var n=[],i=0,o=e.length;function a(e){n.push.apply(n,e||[]),i++,i===o&&t(n)}e.forEach((function(e){r(e,a)}))}function g(e,r,t){var n=0,i=e.length;function o(a){if(a&&a.length)t(a);else{var s=n;n+=1,s<i?r(e[s],o):t([])}}o([])}function b(e){var r=[];return Object.keys(e).forEach((function(t){r.push.apply(r,e[t]||[])})),r}"undefined"!==typeof e&&Object({VUE_APP_API_LOCATION:"https://api.samiiweb.com",VUE_APP_S3_BUCKET:"https://s3.amazonaws.com",VUE_APP_DOCUMENTS_SAMII:"documents.prod.samiiweb.com",VUE_APP_WHATSAPP_LINK:"https://api.whatsapp.com/send",VUE_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51LZfYyKOy6tbixfDhdGQhW3FeicNax3VtTbsqkou0aJLPgbAmOqtXjT7uXEpouhyZBKZCBpybO7zgWaLDRRlkYCR00G9y79r8r",NODE_ENV:"production",BASE_URL:"/"});var D=function(e){function r(r,t){var n;return n=e.call(this,"Async Validation Error")||this,n.errors=r,n.fields=t,n}return i(r,e),r}(c(Error));function w(e,r,t,n,i){if(r.first){var o=new Promise((function(r,o){var a=function(e){return n(e),e.length?o(new D(e,p(e))):r(i)},s=b(e);g(s,t,a)}));return o["catch"]((function(e){return e})),o}var a=!0===r.firstFields?Object.keys(e):r.firstFields||[],s=Object.keys(e),u=s.length,d=0,c=[],l=new Promise((function(r,o){var l=function(e){if(c.push.apply(c,e),d++,d===u)return n(c),c.length?o(new D(c,p(c))):r(i)};s.length||(n(c),r(i)),s.forEach((function(r){var n=e[r];-1!==a.indexOf(r)?g(n,t,l):h(n,t,l)}))}));return l["catch"]((function(e){return e})),l}function q(e){return!(!e||void 0===e.message)}function A(e,r){for(var t=e,n=0;n<r.length;n++){if(void 0==t)return t;t=t[r[n]]}return t}function P(e,r){return function(t){var n;return n=e.fullFields?A(r,e.fullFields):r[t.field||e.fullField],q(t)?(t.field=t.field||e.fullField,t.fieldValue=n,t):{message:"function"===typeof t?t():t,fieldValue:n,field:t.field||e.fullField}}}function F(e,r){if(r)for(var t in r)if(r.hasOwnProperty(t)){var i=r[t];"object"===typeof i&&"object"===typeof e[t]?e[t]=n({},e[t],i):e[t]=i}return e}var O,x=function(e,r,t,n,i,o){!e.required||t.hasOwnProperty(e.field)&&!m(r,o||e.type)||n.push(v(i.messages.required,e.fullField))},E=function(e,r,t,n,i){(/^\s+$/.test(r)||""===r)&&n.push(v(i.messages.whitespace,e.fullField))},I=function(){if(O)return O;var e="[a-fA-F\\d:]",r=function(r){return r&&r.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+n+":){7}(?:"+n+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+n+":){6}(?:"+t+"|:"+n+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+n+":){5}(?::"+t+"|(?::"+n+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+n+":){4}(?:(?::"+n+"){0,1}:"+t+"|(?::"+n+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+n+":){3}(?:(?::"+n+"){0,2}:"+t+"|(?::"+n+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+n+":){2}(?:(?::"+n+"){0,3}:"+t+"|(?::"+n+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+n+":){1}(?:(?::"+n+"){0,4}:"+t+"|(?::"+n+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+n+"){0,5}:"+t+"|(?::"+n+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),a=new RegExp("^"+t+"$"),s=new RegExp("^"+i+"$"),u=function(e){return e&&e.exact?o:new RegExp("(?:"+r(e)+t+r(e)+")|(?:"+r(e)+i+r(e)+")","g")};u.v4=function(e){return e&&e.exact?a:new RegExp(""+r(e)+t+r(e),"g")},u.v6=function(e){return e&&e.exact?s:new RegExp(""+r(e)+i+r(e),"g")};var d="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",l=u.v4().source,f=u.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",h='(?:[/?#][^\\s"]*)?',g="(?:"+d+"|www\\.)"+c+"(?:localhost|"+l+"|"+f+"|"+p+v+y+")"+m+h;return O=new RegExp("(?:^"+g+"$)","i"),O},S={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},j={integer:function(e){return j.number(e)&&parseInt(e,10)===e},float:function(e){return j.number(e)&&!j.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(r){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!j.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(S.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(I())},hex:function(e){return"string"===typeof e&&!!e.match(S.hex)}},R=function(e,r,t,n,i){if(e.required&&void 0===r)x(e,r,t,n,i);else{var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?j[a](r)||n.push(v(i.messages.types[a],e.fullField,e.type)):a&&typeof r!==e.type&&n.push(v(i.messages.types[a],e.fullField,e.type))}},_=function(e,r,t,n,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=r,c=null,l="number"===typeof r,f="string"===typeof r,p=Array.isArray(r);if(l?c="number":f?c="string":p&&(c="array"),!c)return!1;p&&(d=r.length),f&&(d=r.replace(u,"_").length),o?d!==e.len&&n.push(v(i.messages[c].len,e.fullField,e.len)):a&&!s&&d<e.min?n.push(v(i.messages[c].min,e.fullField,e.min)):s&&!a&&d>e.max?n.push(v(i.messages[c].max,e.fullField,e.max)):a&&s&&(d<e.min||d>e.max)&&n.push(v(i.messages[c].range,e.fullField,e.min,e.max))},k="enum",T=function(e,r,t,n,i){e[k]=Array.isArray(e[k])?e[k]:[],-1===e[k].indexOf(r)&&n.push(v(i.messages[k],e.fullField,e[k].join(", ")))},C=function(e,r,t,n,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||n.push(v(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if("string"===typeof e.pattern){var o=new RegExp(e.pattern);o.test(r)||n.push(v(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}},M={required:x,whitespace:E,type:R,range:_,enum:T,pattern:C},N=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r,"string")&&!e.required)return t();M.required(e,r,n,o,i,"string"),m(r,"string")||(M.type(e,r,n,o,i),M.range(e,r,n,o,i),M.pattern(e,r,n,o,i),!0===e.whitespace&&M.whitespace(e,r,n,o,i))}t(o)},V=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&M.type(e,r,n,o,i)}t(o)},$=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(""===r&&(r=void 0),m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&(M.type(e,r,n,o,i),M.range(e,r,n,o,i))}t(o)},B=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&M.type(e,r,n,o,i)}t(o)},z=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),m(r)||M.type(e,r,n,o,i)}t(o)},U=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&(M.type(e,r,n,o,i),M.range(e,r,n,o,i))}t(o)},L=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&(M.type(e,r,n,o,i),M.range(e,r,n,o,i))}t(o)},J=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if((void 0===r||null===r)&&!e.required)return t();M.required(e,r,n,o,i,"array"),void 0!==r&&null!==r&&(M.type(e,r,n,o,i),M.range(e,r,n,o,i))}t(o)},W=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&M.type(e,r,n,o,i)}t(o)},Z="enum",K=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i),void 0!==r&&M[Z](e,r,n,o,i)}t(o)},Y=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r,"string")&&!e.required)return t();M.required(e,r,n,o,i),m(r,"string")||M.pattern(e,r,n,o,i)}t(o)},G=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r,"date")&&!e.required)return t();var s;if(M.required(e,r,n,o,i),!m(r,"date"))s=r instanceof Date?r:new Date(r),M.type(e,s,n,o,i),s&&M.range(e,s.getTime(),n,o,i)}t(o)},H=function(e,r,t,n,i){var o=[],a=Array.isArray(r)?"array":typeof r;M.required(e,r,n,o,i,a),t(o)},X=function(e,r,t,n,i){var o=e.type,a=[],s=e.required||!e.required&&n.hasOwnProperty(e.field);if(s){if(m(r,o)&&!e.required)return t();M.required(e,r,n,a,i,o),m(r,o)||M.type(e,r,n,a,i)}t(a)},Q=function(e,r,t,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(r)&&!e.required)return t();M.required(e,r,n,o,i)}t(o)},ee={string:N,method:V,number:$,boolean:B,regexp:z,integer:U,float:L,array:J,object:W,enum:K,pattern:Y,date:G,url:X,hex:X,email:X,required:H,any:Q};function re(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var te=re(),ne=function(){function e(e){this.rules=null,this._messages=te,this.define(e)}var r=e.prototype;return r.define=function(e){var r=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(t){var n=e[t];r.rules[t]=Array.isArray(n)?n:[n]}))},r.messages=function(e){return e&&(this._messages=F(re(),e)),this._messages},r.validate=function(r,t,i){var o=this;void 0===t&&(t={}),void 0===i&&(i=function(){});var a=r,s=t,u=i;if("function"===typeof s&&(u=s,s={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);function d(e){var r=[],t={};function n(e){var t;Array.isArray(e)?r=(t=r).concat.apply(t,e):r.push(e)}for(var i=0;i<e.length;i++)n(e[i]);r.length?(t=p(r),u(r,t)):u(null,a)}if(s.messages){var c=this.messages();c===te&&(c=re()),F(c,s.messages),s.messages=c}else s.messages=this.messages();var l={},f=s.keys||Object.keys(this.rules);f.forEach((function(e){var t=o.rules[e],i=a[e];t.forEach((function(t){var s=t;"function"===typeof s.transform&&(a===r&&(a=n({},a)),i=a[e]=s.transform(i)),s="function"===typeof s?{validator:s}:n({},s),s.validator=o.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=o.getType(s),l[e]=l[e]||[],l[e].push({rule:s,value:i,source:a,field:e}))}))}));var y={};return w(l,s,(function(r,t){var i,o=r.rule,u=("object"===o.type||"array"===o.type)&&("object"===typeof o.fields||"object"===typeof o.defaultField);function d(e,r){return n({},r,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function c(i){void 0===i&&(i=[]);var c=Array.isArray(i)?i:[i];!s.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var l=c.map(P(o,a));if(s.first&&l.length)return y[o.field]=1,t(l);if(u){if(o.required&&!r.value)return void 0!==o.message?l=[].concat(o.message).map(P(o,a)):s.error&&(l=[s.error(o,v(s.messages.required,o.field))]),t(l);var f={};o.defaultField&&Object.keys(r.value).map((function(e){f[e]=o.defaultField})),f=n({},f,r.rule.fields);var p={};Object.keys(f).forEach((function(e){var r=f[e],t=Array.isArray(r)?r:[r];p[e]=t.map(d.bind(null,e))}));var m=new e(p);m.messages(s.messages),r.rule.options&&(r.rule.options.messages=s.messages,r.rule.options.error=s.error),m.validate(r.value,r.rule.options||s,(function(e){var r=[];l&&l.length&&r.push.apply(r,l),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(l)}if(u=u&&(o.required||!o.required&&r.value),o.field=r.field,o.asyncValidator)i=o.asyncValidator(o,r.value,c,r.source,s);else if(o.validator){try{i=o.validator(o,r.value,c,r.source,s)}catch(l){null==console.error||console.error(l),s.suppressValidatorError||setTimeout((function(){throw l}),0),c(l.message)}!0===i?c():!1===i?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):i instanceof Array?c(i):i instanceof Error&&c(i.message)}i&&i.then&&i.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){d(e)}),a)},r.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!ee.hasOwnProperty(e.type))throw new Error(v("Unknown rule type %s",e.type));return e.type||"string"},r.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var r=Object.keys(e),t=r.indexOf("message");return-1!==t&&r.splice(t,1),1===r.length&&"required"===r[0]?ee.required:ee[this.getType(e)]||void 0},e}();ne.register=function(e,r){if("function"!==typeof r)throw new Error("Cannot register a validator by type, validator is not a function");ee[e]=r},ne.warning=f,ne.messages=te,ne.validators=ee}).call(this,t("4362"))},4081:function(e,r,t){"use strict";t.d(r,"e",(function(){return f})),t.d(r,"b",(function(){return p})),t.d(r,"a",(function(){return y})),t.d(r,"d",(function(){return v})),t.d(r,"c",(function(){return m}));t("14d9"),t("13d5");var n=t("2b0e"),i=t("2a95"),o=(t("d9e2"),{clientId:[{required:!0,message:"Selecciona un cliente existente o crea uno nuevo"}],orderDevices:[{type:"array",required:!0,validator(e,r,t){r.length<=0&&t();for(const o of r){o.deviceModelId||t(new Error("Captura el modelo del dispositivo"));for(const e of o.orderDeviceServices){var n;(null===e.cost||void 0===e.cost||""===e.cost||e.cost<0)&&t(new Error(`El costo debe ser 0 o un nÃºmero mayor para continuar - '${(null===(n=e.serviceCategory)||void 0===n?void 0:n.name)||e.name}'`))}for(const e of o.orderDeviceProducts){var i;(null===e.cost||void 0===e.cost||""===e.cost||e.cost<0)&&t(new Error(`El costo debe ser 0 o un nÃºmero mayor para continuar - '${(null===(i=e.productCategory)||void 0===i?void 0:i.name)||e.name}'`))}t()}}}]});const a=()=>({quantity:0,productCategory:null}),s=()=>({id:null,orderId:null,orderDeviceId:null,serviceId:null,serviceType:null,serviceName:null,serviceCost:null,servicePrice:null,serviceCategory:null}),u=()=>({id:null,orderId:null,deviceType:null,deviceTypeId:null,deviceModel:null,deviceModelId:null,imei:null,deviceLockType:1,passcode:null,pattern:null,hasDiagnostic:!0,diagnosticNotes:null,hasWarranty:!1,warrantyDays:0,orderDeviceServices:[],orderDeviceProducts:[]}),d=()=>({id:null,clientId:null,createdByAccountId:null,assignedToAccountId:null,priority:null,dueDate:null,subtotalAmount:null,totalAmount:null,status:null,createdAt:null,updatedAt:null,authorizedByClient:!1,orderDevices:[],client:null,taxRate:null,taxAmount:null,taxDescription:null,images:[],orderAdvances:[],orderProducts:[]});var c={buildOrderProduct:a,buildOrderDeviceService:s,buildOrderDevice:u,buildOrder:d},l=t("e563");const f=new n["default"].observable({order:{...c.buildOrder()},client:null,errors:[]}),p={orderDevicesCount:()=>{var e;return null===(e=f.order.orderDevices)||void 0===e?void 0:e.filter(e=>null!=e.deviceModelId).length},orderProductsCount:()=>{var e;return null===(e=f.order.orderProducts)||void 0===e?void 0:e.filter(e=>null!==e.productId).length},getServices:()=>{const e=[];for(let r=0;r<f.order.orderDevices.length;r++){const t=f.order.orderDevices[r];for(let r=0;r<t.orderDeviceServices.length;r++)e.push({id:t.orderDeviceServices[r].id,type:"Servicio",name:t.orderDeviceServices[r].name,description:t.orderDeviceServices[r].description,price:t.orderDeviceServices[r].price});for(let r=0;r<t.orderDeviceProducts.length;r++)e.push({id:t.orderDeviceProducts[r].id,type:"Producto",name:t.orderDeviceProducts[r].name,description:t.orderDeviceProducts[r].description,price:t.orderDeviceProducts[r].price})}return e},getSubtotal:()=>{var e,r;let t=0;return null===(e=f.order.orderDevices)||void 0===e||e.forEach(e=>{var r,n;const i=null===(r=e.orderDeviceServices)||void 0===r?void 0:r.reduce((e,r)=>parseFloat(e||0)+parseFloat(r.price||"0"),0),o=null===(n=e.orderDeviceProducts)||void 0===n?void 0:n.reduce((e,r)=>parseFloat(e||0)+parseFloat(r.price||"0")*parseFloat(r.quantity||"1"),0);t=t+i+o}),null===(r=f.order.orderProducts)||void 0===r||r.forEach(e=>{t+=parseFloat(e.price)*(parseFloat(e.quantity)||1)}),f.order.taxAmount=t*(f.order.taxRate/100),f.order.subtotalAmount=t,f.order.subtotalAmount},getTax:()=>({taxRate:f.order.taxRate,taxAmount:p.getSubtotal()*(f.order.taxRate/100),taxDescription:`${f.order.taxDescription} ${f.order.taxRate}%`}),getAdvance(){return f.order.orderAdvances.reduce((e,r)=>e+r.advanceAmount,0)},getTotal(){const e=f.order.subtotalAmount+f.order.taxAmount-f.order.orderAdvances.reduce((e,r)=>e+r.advanceAmount,0);return f.order.totalAmount=e,e}},v={resetState:()=>{Object.assign(f,{order:{...c.buildOrder()},client:null,errors:[]})},addOrderDevice:()=>{f.order.orderDevices.push({...c.buildOrderDevice()})},removeOrderDevice:e=>{f.order.orderDevices.splice(e,1)},addOrderDeviceService(e,r){f.order.orderDevices[e].orderDeviceServices.push({...r,cost:0,price:0})},removeOrderDeviceService(e,r){f.order.orderDevices[e].orderDeviceServices.splice(r,1)},addOrderDeviceProduct(e,r){f.order.orderDevices[e].orderDeviceProducts.push(r)},removeOrderDeviceProduct(e,r){f.order.orderDevices[e].orderDeviceProducts.splice(r,1)},addAdvance(e){f.order.orderAdvances.push({id:e.id,advanceDescription:e.advanceDescription,advanceAmount:e.advanceAmount,advancePaymentMethod:e.advancePaymentMethod})},changeAdvance(e){f.order.orderAdvances=f.order.orderAdvances.map(r=>r.id===e.id?e:r)},removeAdvance(e){f.order.orderAdvances=f.order.orderAdvances.filter(r=>r.id!==e)},changeTax(e){f.order.taxRate=parseFloat(e.taxRate),f.order.taxAmount=f.order.subtotalAmount*(f.order.taxRate/100),f.order.taxDescription=e.taxDescription||""},changePriority(e){f.order.priority=e},changeDueDate(e){f.order.dueDate=e},changeUser(e){f.order.assignedToAccountId=e},pushImage(e){f.order.images=[...f.order.images,e]},filterImage(e){f.order.images=f.order.images.filter(r=>r!==e)},changeDevicePattern(e,r){for(let t=0;t<f.order.orderDevices.length;t++)f.order.orderDevices[t].pattern=r},addOrderProduct(e){f.order.orderProducts=[...f.order.orderProducts,e]},removeOrderProduct(e){f.order.orderProducts=f.order.orderProducts.filter(r=>r.id!==e)}},y={validateOrder:()=>new i["a"](o).validate(f.order,e=>{f.errors=null!==e&&void 0!==e?e:[]})},m={mergeChecklistItems:e=>l["a"].entities.map(r=>{const t=e.find(e=>e.checklistId===r.id);return{checklistId:r.id,id:(null===t||void 0===t?void 0:t.id)||void 0,name:r.name,value:(null===t||void 0===t?void 0:t.value)||!1}}),mapGetResponse:e=>({...e,images:e.images.map(e=>e.replace("documents.prod.samiiweb.com/","")),orderDevices:e.orderDevices.map(e=>({...e,deviceModel:{brand:e.deviceBrand,deviceType:e.deviceType,id:e.deviceModelId,model:e.deviceModel},orderDeviceServices:e.orderDeviceServices.map(e=>{var r,t;return{...e,name:null!==(r=null===(t=e.serviceCategory)||void 0===t?void 0:t.name)&&void 0!==r?r:e.name}}),checklistItems:m.mergeChecklistItems(e.checklistItems),deviceTypeId:e.deviceType.id,hasDiagnostic:!0})),signals:{paid:e.paid,warranty:e.warranty},orderAdvances:e.orderAdvances.map(e=>({...e,advancePaymentMethod:e.paymentMethodId}))}),mapPostRequest:()=>({...f.order,images:f.order.images,orderDevices:f.order.orderDevices.map(e=>({...e,orderDeviceServices:e.orderDeviceServices.map(e=>({serviceId:e.id,description:e.description,cost:parseFloat(e.cost),price:parseFloat(e.price)})),orderDeviceProducts:e.orderDeviceProducts.map(e=>({productId:e.id,quantity:parseFloat(e.quantity),cost:parseFloat(e.cost),price:parseFloat(e.price)})),warrantyDays:e.hasWarranty?e.warrantyDays:0,diagnosticNotes:e.diagnosticNotes,checklistItems:e.checklistItems.map(e=>({id:e.id,checklistId:e.checklistId,value:e.value})),hasDiagnostic:!0})),orderAdvances:f.order.orderAdvances.map(e=>({id:"~"===e.id[0]?void 0:e.id,advanceDescription:e.advanceDescription,advanceAmount:e.advanceAmount,paymentMethodId:e.advancePaymentMethod})),orderProducts:f.order.orderProducts.map(e=>({productId:e.id,quantity:parseFloat(e.quantity),cost:parseFloat(e.cost),price:parseFloat(e.price)}))})}}}]);
//# sourceMappingURL=chunk-16cf5933.da046248.js.map