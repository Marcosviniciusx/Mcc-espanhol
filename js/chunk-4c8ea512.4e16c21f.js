(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c8ea512"],{"804a":function(t,e,s){"use strict";s("e8fb")},"84a9":function(t,e,s){t.exports=s.p+"img/mini-responsive-samii.cf623f75.png"},e8fb:function(t,e,s){},fcae:function(t,e,s){"use strict";s.r(e);s("14d9");var a=function(){var t=this,e=t._self._c;return e("app-layout",[e("div",{staticClass:"flex flex-col items-center pb-32"},[e("div",{staticClass:"w-full px-6 pt-6 2xl:w-3/5 2xl:px-0"},[e("div",{staticClass:"w-full mb-4 space-y-4"},[e("div",{staticClass:"flex flex-col md:flex-row py-4"},[e("div",{staticClass:"flex flex-row items-center"},[e("sa-icon-button",{attrs:{"with-bg":"",iconClass:"bx bx-left-arrow-alt"},on:{click:function(e){return t.$router.push({name:"home.index"})}}}),e("span",{staticClass:"mx-2 text-lg font-bold"},[t._v(" Cerrar Dia ")])],1),e("div",{staticClass:"flex flex-row items-center ml-auto"},[e("el-button",{staticClass:"el-button--warning",on:{click:t.print}},[e("span",[t._v("Imprimir")])])],1)]),e("div",{staticClass:"w-full mb-4 space-y-4 relative",attrs:{id:"print-area"}},[e("div",{staticClass:"items-center text-center py-2 justify-between"},[e("div",{staticClass:"w-4/5 m-auto justify-center align-center"},[e("div",{staticClass:"w-full flex flex-row items-center justify-center"},[t.logo?t._e():e("img",{attrs:{src:s("84a9"),alt:"",width:"70px"}}),t.logo?e("img",{staticStyle:{width:"200px !important",height:"100px !important"},attrs:{src:t.logo,alt:""}}):t._e()]),e("div",{staticClass:"w-full flex flex-row items-center justify-center"},[e("span",{staticClass:"font-bold text-gray-600 text-3xl font-headline ml-1"},[t._v(" "+t._s(t.$store.state.business.name||"Fixme up")+" ")])])]),e("div",{staticClass:"w-full lg:w-1/3 m-auto justify-center align-center"},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"border bg-black border-black text-white outline-none"},[t._v(" Cerrar dia ")]),e("div",{staticClass:"border"},[e("div",[e("strong",[t._v(t._s(t.todayDate))])])])])])]),e("div",t._l(t.totalPaymentMethod,(function(s){return e("div",{key:s.name,staticClass:"mb-2"},[e("div",{staticClass:"w-full border p-2 flex flex-row justify-between bg-gray-200"},[e("strong",{staticClass:"text-lg uppercase"},[t._v(" "+t._s(s.name)+" ")]),e("strong",{staticClass:"text-lg uppercase"},[t._v(" "+t._s(t.moneyFormat(s.total))+" ")])]),e("div",{staticClass:"w-full border p-2"},t._l(s.orders,(function(s){return e("div",{key:s.id,staticClass:"border-b"},[e("div",{staticClass:"w-full flex flex-col lg:flex-row"},[e("div",{staticClass:"w-full lg:w-2/12"},[e("a",{on:{click:function(e){return t.$router.push({name:"orders.read",params:{id:s.id}})}}},[e("strong",[t._v("#: ")]),t._v(" "+t._s(s.reference)+" ")])]),e("div",{staticClass:"w-full lg:w-3/12"},[e("strong",[t._v("Tipo: ")]),t._v(" "+t._s(s.type.label)+" ")])]),e("div",{staticClass:"w-full text-justify py-2"},[e("div",{staticClass:"w-full"},[s.type.value===t.OrderTypesEnum.Repairs||s.type.value===t.OrderTypesEnum.Mixed?e("div",{staticClass:"w-full"},[e("strong",[t._v("Dispositivo: ")]),e("span",[t._v(t._s(`${s.orderDevices[0].deviceModel} ${s.orderDevices[0].deviceBrand}`))])]):t._e(),s.orderDevices.length&&s.orderDevices[0].diagnosticNotes&&(s.type.value===t.OrderTypesEnum.Repairs||s.type.value===t.OrderTypesEnum.Mixed)?e("div",{staticClass:"w-full"},[e("strong",[t._v("Descripcion del problema: ")]),e("span",[t._v(t._s(s.orderDevices[0].diagnosticNotes))])]):t._e(),s.type.value===t.OrderTypesEnum.Sales||s.type.value===t.OrderTypesEnum.Mixed?e("div",{staticClass:"w-full"},[e("strong",[t._v("Productos: ")]),e("ul",{staticStyle:{"column-count":"4"}},t._l(s.orderProducts,(function(s){return e("li",{key:s.id},[t._v(" - "+t._s(s.name)+" ")])})),0)]):t._e()])])])})),0)])})),0),e("div",{staticClass:"w-1/2 lg:w-1/5 ml-auto text-right"},[e("div",{staticClass:"w-full flex flex-row justify-between"},[e("div",[t._v(" Total: ")]),e("div",{staticClass:"text-right"},[t._v(" "+t._s(t.moneyFormat(t.totalSales))+" ")])]),e("div",{staticClass:"w-full flex flex-row justify-between"},[e("div",[t._v(" Depositos: ")]),e("div",{staticClass:"text-right"},[t._v(" "+t._s(t.moneyFormat(t.totalAdvanceAmount))+" ")])])])])])])])])},l=[],i=s("1268"),o=s("cfd9"),r=s("7ab9"),n=s("5a50");const c=t=>{var e,s;const a=(null===(e=t.orderDevices)||void 0===e?void 0:e.length)||!1,l=(null===(s=t.orderProducts)||void 0===s?void 0:s.length)||!1;return a&&l?n["n"][n["o"].Mixed]:a?n["n"][n["o"].Repairs]:l?n["n"][n["o"].Sales]:n["n"][n["o"].None]};var d={name:"CloseDayIndex",components:{AppLayout:()=>s.e("chunk-1cb29fe6").then(s.bind(null,"c987"))},data(){return{totalSales:0,totalPaymentMethod:[],totalAdvanceAmount:0}},mounted(){this.load()},computed:{OrderTypesEnum(){return n["o"]},logo(){return r["a"].logo()},todayDate(){return this.$moment(new Date).format("MM/DD/YYYY hh:mm:ss A")}},methods:{moneyFormat(t){const{currencySymbol:e}=this.$store.state.account;return i["a"].moneyFormat(t,e)},print(){window.print()},async load(){const t=await o["a"].getDailySales({date:this.$moment(new Date).format("MM/DD/YYYY")});this.totalSales=t.totalSales,this.totalPaymentMethod=t.totalPaymentMethod.map(({orders:t,paymentMethod:e,total:s})=>({name:e,total:s,orders:t.map(t=>({...t,type:c(t)}))})),this.totalAdvanceAmount=t.totalAdvanceAmount}}},u=d,v=(s("804a"),s("2877")),m=Object(v["a"])(u,a,l,!1,null,"cabe37a0",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4c8ea512.4e16c21f.js.map