(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bb266"],{"39f0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-2"},[e("div",{staticClass:"flex flex-row items-center",class:t.canAdd?"":"pb-6"},[e("div",{staticClass:"w-full flex flex-row",staticStyle:{"justify-content":"space-between"}},[e("span",{staticClass:"font-bold text-md"},[t._v("Anticipos")]),e("a",{staticClass:"text-purple-400",on:{click:function(e){t.canAdd=!0}}},[e("strong",[t._v("+ Agregar anticipo")])])])]),t.canAdd?e("div",{staticClass:"flex flex-col py-4 space-x-2 pb-6"},[e("div",{staticClass:"flex flex-row"},[e("div",{staticClass:"w-12/12 lg:w-3/5 mr-1"},[e("span",[t._v("DescripciÃ³n del pago")]),e("el-input",{model:{value:t.form.advanceDescription,callback:function(e){t.$set(t.form,"advanceDescription",e)},expression:"form.advanceDescription"}})],1),e("div",{staticClass:"w-12/12 lg:w-1/5 ml-1"},[e("span",[t._v("Metodo de Pago")]),e("el-select",{staticClass:"w-full",model:{value:t.form.advancePaymentMethod,callback:function(e){t.$set(t.form,"advancePaymentMethod",e)},expression:"form.advancePaymentMethod"}},t._l(t.paymentMethods,(function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[e("div",{staticClass:"flex flex-row items-center"},[e("span",{staticClass:"ml-2"},[t._v(" "+t._s(a.name)+" ")])])])})),1)],1),e("div",{staticClass:"w-12/12 lg:w-1/5 ml-1"},[e("span",[t._v("Cantidad")]),e("el-input",{staticClass:"w-full el-input-text-right",attrs:{type:"number",placeholder:"0.00"},model:{value:t.form.advanceAmount,callback:function(e){t.$set(t.form,"advanceAmount",e)},expression:"form.advanceAmount"}})],1)]),e("div",{staticClass:"py-2"},[t.errorMessage?e("div",{staticClass:"py-2 text-right"},[e("span",{staticClass:"text-red-500"},[t._v(t._s(t.errorMessage))])]):t._e(),e("div",{staticClass:"flex flex-row justify-end space-x-2"},[e("sa-button",{attrs:{type:"secondary"},on:{click:t.cancel}},[t._v(" Cancelar ")]),e("sa-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v(" Guardar ")])],1)])]):t._e(),e("div",[e("div",{staticClass:"block w-full overflow-x-auto"},[e("table",{staticClass:"items-center w-full bg-transparent border-collapse"},[t._m(0),e("tbody",t._l(t.order.orderAdvances,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"pr-4"},[e("div",{staticClass:"w-full flex flex-row text-center"},[e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--primary rounded-full cursor-pointer",attrs:{title:"Editar"},on:{click:function(e){return t.onEdit(a)}}},[e("i",{staticClass:"bx bx-edit",staticStyle:{padding:"4px","font-size":"20px"}})])]),e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--danger rounded-full cursor-pointer",attrs:{title:"Eliminar"},on:{click:function(e){return t.onDelete(a.id)}}},[e("i",{staticClass:"bx bx-trash",staticStyle:{padding:"4px","font-size":"20px"}})])])])]),e("td",{staticClass:"py-3 text-sm align-middle border-t-0 border-l-0 border-r-0 whitespace-nowrap"},[t._v(" "+t._s(a.advanceDescription)+" ")]),e("td",{staticClass:"py-3 text-sm align-middle border-t-0 border-l-0 border-r-0 whitespace-nowrap"},[t._v(" "+t._s(t.getPaymentMethod(a.advancePaymentMethod))+" ")]),e("td",{staticClass:"py-3 text-sm align-middle border-t-0 border-l-0 border-r-0 whitespace-nowrap"},[t._v(" "+t._s(t.moneyFormat(a.advanceAmount))+" ")])])})),0)])])])])},r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"py-3 text-sm font-bold text-left uppercase align-middle border border-l-0 border-r-0 border-solid bg-blueGray-50 text-blueGray-500 border-blueGray-100 whitespace-nowrap"}),e("th",{staticClass:"py-3 text-sm font-bold text-left uppercase align-middle border border-l-0 border-r-0 border-solid bg-blueGray-50 text-blueGray-500 border-blueGray-100 whitespace-nowrap"},[t._v(" DescripciÃ³n del pago ")]),e("th",{staticClass:"py-3 text-sm font-bold text-left uppercase align-middle border border-l-0 border-r-0 border-solid bg-blueGray-50 text-blueGray-500 border-blueGray-100 whitespace-nowrap"},[t._v(" Metodo de Pago ")]),e("th",{staticClass:"py-3 text-sm font-bold text-left uppercase align-middle border border-l-0 border-r-0 border-solid bg-blueGray-50 text-blueGray-500 border-blueGray-100 whitespace-nowrap"},[t._v(" Cantidad ")])])])}];const s="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var o={randomUUID:s};let d;const i=new Uint8Array(16);function l(){if(!d&&(d="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(i)}const c=[];for(let g=0;g<256;++g)c.push((g+256).toString(16).slice(1));function u(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}function p(t,e,a){if(o.randomUUID&&!e&&!t)return o.randomUUID();t=t||{};const n=t.random||(t.rng||l)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){a=a||0;for(let t=0;t<16;++t)e[a+t]=n[t];return e}return u(n)}var m=p,f=a("1268"),v=a("4081"),b=a("cfd9"),y={name:"AdvanceFormBlock",mounted(){this.loadPaymentMethods()},data(){return{columns:[{key:"advanceDescription",label:"DescripciÃ³n del pago",type:"string"},{key:"advanceAmount",label:"Cantidad",type:"money"}],errorMessage:null,canAdd:!1,order:v["e"].order,form:{id:null,advanceDescription:null,advanceAmount:0,advancePaymentMethod:null},paymentMethods:[]}},methods:{async loadPaymentMethods(){this.paymentMethods=await b["a"].getPaymentMethods()},cancel(){this.canAdd=!1,this.form={id:null,advanceDescription:null,advanceAmount:0,advancePaymentMethod:null}},save(){if(this.form.advanceAmount<=0)this.errorMessage="Captura una cantidad de pago correcta";else{if(this.form.id)this.$emit("changeAdvance",{id:this.form.id,advanceDescription:this.form.advanceDescription,advanceAmount:parseFloat(this.form.advanceAmount),advancePaymentMethod:this.form.advancePaymentMethod});else{const t="~"+m();this.$emit("addAdvance",{id:t,advanceDescription:this.form.advanceDescription,advanceAmount:parseFloat(this.form.advanceAmount),advancePaymentMethod:this.form.advancePaymentMethod})}this.cancel()}},onEdit(t){this.canAdd=!0,this.form={id:t.id,advanceDescription:t.advanceDescription,advanceAmount:t.advanceAmount,advancePaymentMethod:t.advancePaymentMethod}},onDelete(t){this.$confirm("Â¿EstÃ¡ seguro que desea eliminar este anticipo?",{type:"warning",confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then(async()=>{this.$emit("removeAdvance",t)})},moneyFormat(t){const{currencySymbol:e}=this.$store.state.account;return f["a"].moneyFormat(t,e)},getPaymentMethod(t){const e=this.paymentMethods.find(e=>e.id===t);return e?e.name:""}}},h=y,x=a("2877"),w=Object(x["a"])(h,n,r,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d0bb266.01a69ae6.js.map