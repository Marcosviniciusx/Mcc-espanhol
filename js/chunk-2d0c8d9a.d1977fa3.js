(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8d9a"],{5746:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("content-card",{class:{"quick-start-selected":6===t.$store.state.quickStart.step},attrs:{title:"Resumen de orden"}},[e("quick-start-tip",{attrs:{title:"Resumen de la Orden",content:"Puedes agregar anticipos que el cliente te haya dado, y asi llevar un mejor control del cobro.\n      Tambien puedes agregar impuestos si asi lo necesitas.",placement:"left","bg-purple":!1,value:6===t.$store.state.quickStart.step},on:{onNextStep:t.handleNextStep}},[e("div",{staticClass:"flex flex-col py-2"},[e("div",{staticClass:"flex flex-row items-center py-2"},[e("div",[e("sa-button",{attrs:{type:"text",customClass:"underline"},on:{click:t.showServicesBlock}},[e("span",[t._v(" Servicios ")])])],1),e("div",{staticClass:"ml-auto"},[e("span",[t._v(t._s(t.moneyFormat(t.subtotal)))])])]),e("div",{staticClass:"flex flex-row items-center py-2"},[e("div",[e("sa-button",{attrs:{type:"text",customClass:"underline"},on:{click:t.showAddTaxBlock}},[t.tax.taxRate>0?e("span",[t._v(" "+t._s(t.tax.taxDescription)+" ")]):e("span",[t._v(" Impuestos ")])])],1),e("div",{staticClass:"ml-auto"},[e("span",[t._v(t._s(t.moneyFormat(t.tax.taxAmount)))])])]),e("div",{staticClass:"flex flex-row items-center py-2"},[e("div",[e("sa-button",{attrs:{type:"text",customClass:"underline"},on:{click:t.showAddPaymentBlock}},[e("span",[t._v(" Anticipos ")])])],1),e("div",{staticClass:"ml-auto"},[e("span",[t._v(t._s(t.moneyFormat(-1*t.advance)))])])]),e("div",{staticClass:"pt-4 border-t"},[e("div",{staticClass:"flex flex-row"},[e("span",{staticClass:"font-bold"},[t._v("Total: ")]),e("span",{staticClass:"ml-auto font-bold"},[t._v(t._s(t.moneyFormat(t.total)))])])])])])],1),e("el-dialog",{attrs:{visible:t.isVisibleServicesBlock,width:t.width},on:{"update:visible":function(e){t.isVisibleServicesBlock=e}}},[e("div",{staticClass:"block w-full overflow-x-auto"},[e("table",{staticClass:"items-center w-full border-collapse"},[e("thead",[e("tr",{staticClass:"px-2 border-b-2"},[e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"},[t._v(" Tipo ")]),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"},[t._v(" Nombre ")]),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap"},[t._v(" Descripcion ")]),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap text-right"},[t._v(" Precio ")])])]),e("tbody",t._l(t.services,(function(s){return e("tr",{key:s.id,staticClass:"cursor-pointer hover:bg-gray-100 hover:shadow"},[e("td",{staticClass:"py-2 border-t",staticStyle:{"min-width":"150px",width:"150px"}},[t._v(" "+t._s(s.type)+" ")]),e("td",{staticClass:"py-2 border-t",staticStyle:{"min-width":"150px",width:"150px"}},[t._v(" "+t._s(s.name)+" ")]),e("td",{staticClass:"py-2 border-t",staticStyle:{"min-width":"250px",width:"250px"}},[t._v(" "+t._s(s.description)+" ")]),e("td",{staticClass:"py-2 border-t text-right",staticStyle:{"min-width":"50px",width:"50px"}},[t._v(" "+t._s(t.moneyFormat(s.price))+" ")])])})),0)])])]),e("el-dialog",{attrs:{visible:t.isVisibleAddPaymentBlock,width:t.width},on:{"update:visible":function(e){t.isVisibleAddPaymentBlock=e},close:function(e){t.isVisibleAddPaymentBlock=!1}}},[e("advance-form-block",{on:{addAdvance:t.addAdvance,changeAdvance:t.changeAdvance,removeAdvance:t.removeAdvance,close:function(e){t.isVisibleAddPaymentBlock=!1}}})],1),e("el-dialog",{attrs:{visible:t.isVisibleAddTaxBlock,width:t.width},on:{"update:visible":function(e){t.isVisibleAddTaxBlock=e}}},[e("tax-form-block",{attrs:{tax:t.tax},on:{addTax:t.addTax,close:function(e){t.isVisibleAddTaxBlock=!1}}})],1)],1)},i=[],o=s("4081"),d=s("1268"),n=s("2ef0"),l=s.n(n),c=s("8266"),r=s("4cf1"),v={name:"PaymentBlock",mixins:[c["a"]],components:{ContentCard:()=>Promise.resolve().then(s.bind(null,"3246")),AdvanceFormBlock:()=>s.e("chunk-2d0bb266").then(s.bind(null,"39f0")),TaxFormBlock:()=>s.e("chunk-2d229426").then(s.bind(null,"dd4d"))},data(){return{width:"40%",isVisibleServicesBlock:!1,isVisibleAddPaymentBlock:!1,isVisibleAddTaxBlock:!1}},created(){window.addEventListener("resize",l.a.debounce(this.resize,200))},destroyed(){window.removeEventListener("resize",l.a.debounce(this.resize,200))},computed:{services(){return o["b"].getServices()},subtotal(){return o["b"].getSubtotal()},tax(){return o["b"].getTax()},advance(){return o["b"].getAdvance()},total(){return o["b"].getTotal()}},methods:{resize(){const t=this.getPercentageWidth();this.width="30%"===t?"40%":t},showServicesBlock(){this.isVisibleServicesBlock=!0,this.resize()},showAddTaxBlock(){this.isVisibleAddTaxBlock=!0,this.resize()},showAddPaymentBlock(){this.isVisibleAddPaymentBlock=!0,this.resize()},addAdvance(t){o["d"].addAdvance(t)},changeAdvance(t){o["d"].changeAdvance(t)},removeAdvance(t){o["d"].removeAdvance(t)},addTax(t){o["d"].changeTax(t),this.isVisibleAddTaxBlock=!1},moneyFormat(t){const{currencySymbol:e}=this.$store.state.account;return d["a"].moneyFormat(t,e)},handleNextStep(){const t=this.$store.state.quickStart.step;this.$store.dispatch(r["b"],{step:t+1})}}},p=v,b=s("2877"),u=Object(b["a"])(p,a,i,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0c8d9a.d1977fa3.js.map