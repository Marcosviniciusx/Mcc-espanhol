(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ba4cc98"],{"914d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("minimal-bg-header-layout",{attrs:{"header-solo-logo":""}},[e("div",[e("div",{staticClass:"container mx-auto p-6 content-center md:py-12 lg:px-12 md:w-1/2 xl:w-4/5"},[e("div",{staticClass:"flex flex-col px-2 py-8 shadow-2xl rounded bg-white lg:px-8"},[e("div",{staticClass:"flex flex-col w-full text-center mb-4"},[e("h1",{staticClass:"sm:text-3xl text-2xl font-bold mb-4"},[t._v(" Â¡Bienvenido! ")])]),e("el-steps",{attrs:{active:t.active,"align-center":""}},[e("el-step",{attrs:{status:0!==t.active?"success":"process",title:"Mi negocio",icon:"el-icon-info"}}),e("el-step",{attrs:{status:1!==t.active&&t.active>1?"success":"",title:"Usuarios y permisos",icon:"el-icon-user"}}),e("el-step",{attrs:{status:2!==t.active&&t.active>1?"success":"",title:"Politicas y plantillas",icon:"el-icon-info"}})],1),e("div",[0===t.active?e("div",[e("business-form",{attrs:{saveButtonLabel:"Continuar"},on:{onMyBusinessFormSave:t.onMyBusinessFormSave}})],1):t._e(),1===t.active?e("div",[e("div",{staticClass:"w-full xl:px-36 sm:px-8"},[e("div",{staticClass:"flex flex-row items-center py-4"},[e("h1",{staticClass:"text-lg font-bold inline-flex items-center"},[e("strong",[t._v("Â Usuarios y Permisos")])]),e("div",{staticClass:"ml-auto"},[e("sa-button",{staticClass:"items-center px-3 py-3 font-bold rounded",attrs:{type:"primary"},on:{click:t.next}},[t._v(" Continuar ")])],1)]),e("div",{staticClass:"flex flex-col space-y-6"},[e("div",{staticClass:"w-full xl:w-2/3 mb-4"},[e("strong",[t._v("Enviar invitacion por correo")]),e("div",{staticClass:"flex mt-2"},[e("el-input",{staticClass:"w-2/3 mr-2",model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("div",{staticClass:"w-1/3"},[e("el-button",{on:{click:t.sendInvite}},[t._v("Enviar")])],1)],1)])])])]):t._e(),2===t.active?e("div",[e("policies-and-templates-form",{attrs:{saveButtonLabel:"Terminar",callback:t.start}})],1):t._e()])],1)])])])},i=[],n=(s("14d9"),s("0517")),o=s("9c09"),c=s("5a50"),l=s("7459"),r={name:"OnboardingIndex",mixins:[n["a"]],components:{MinimalBgHeaderLayout:()=>s.e("chunk-df13faac").then(s.bind(null,"fa2c")),BusinessForm:()=>s.e("chunk-c81a2c26").then(s.bind(null,"0c2d")),PoliciesAndTemplatesForm:()=>s.e("chunk-2d0b252a").then(s.bind(null,"242d"))},data(){return{email:void 0,active:0}},mounted(){localStorage.setItem("samii-quick-start","undone")},methods:{async onMyBusinessFormSave(t){const e=new FormData;t.logo&&e.append("logo",t.logo),t.name&&e.append("name",t.name),t.phone&&e.append("phone",t.phone),t.address&&e.append("address",t.address),t.country&&e.append("country",t.country),t.currency&&e.append("currency",t.currency);try{await l["a"].MyBusiness.update(e),this.next()}catch(s){this.$toastr.e("Error desconocido. Por favor, vuelva a intentarlo.")}},async sendInvite(){if(o["a"].test(this.email))try{await l["a"].UsersAndPermissions.sendInvite({email:this.email.toLowerCase(),accountType:c["a"].Technical}),this.email=void 0,this.$toastr.s("Invitacion enviada con exito")}catch(t){this.$toastr.e(this.getErrorMessage(t))}else this.$toastr.e("Formato de correo electronico invalido")},next(){this.active++>2&&(this.active=0)},start(){this.$router.push({name:"home.index"})}}},d=r,u=s("2877"),v=Object(u["a"])(d,a,i,!1,null,null,null);e["default"]=v.exports},"9c09":function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));const a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}}]);
//# sourceMappingURL=chunk-1ba4cc98.7b856f2e.js.map