(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b252a"],{"242d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full xl:px-36 sm:px-8"},[e("div",{staticClass:"flex flex-row items-center py-4"},[t._m(0),e("div",{staticClass:"ml-auto"},[e("sa-button",{staticClass:"items-center px-3 py-3 font-bold rounded",attrs:{type:"primary"},on:{click:t.save}},[t._v(" "+t._s(t.saveButtonLabel)+" ")])],1)]),e("div",{staticClass:"flex flex-col space-y-4"},[e("content-card",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{title:"AquÃ­ puedes llenar las polÃ­ticas de garantÃ­a que saldrÃ¡n en tus tickets para que el cliente las lea y firme."}},[e("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.policy,callback:function(e){t.policy=e},expression:"policy"}})],1)],1),t.showChecklist?e("div",{staticClass:"flex flex-row items-center py-4"},[t._m(1),e("div",{staticClass:"ml-auto"},[e("sa-button",{staticClass:"items-center px-3 py-3 font-bold rounded",attrs:{type:"primary"},on:{click:t.saveItems}},[t._v(" "+t._s(t.saveButtonLabel)+" ")])],1)]):t._e(),t.showChecklist?e("div",{staticClass:"flex flex-col space-y-4"},[e("content-card",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[e("div",{staticClass:"w-full flex flex-row",staticStyle:{"justify-content":"space-between"},attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"flex"},[t._v("Elementos del Checklist de RevisiÃ³n")]),e("div",{staticClass:"flex"},[t.addItem?t._e():e("a",{staticClass:"text-md text-purple-400",on:{click:function(e){t.addItem=!0}}},[e("strong",[t._v("+ Agregar nuevo elemento")])])])]),t.addItem?e("div",{staticClass:"w-full mb-4"},[e("div",{staticClass:"w-full flex flex-row"},[e("el-input",{model:{value:t.value.name,callback:function(e){t.$set(t.value,"name",e)},expression:"value.name"}}),e("div",{staticClass:"flex flex-row text-center ml-2",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--primary rounded-full cursor-pointer mr-4",attrs:{title:"Guardar"},on:{click:t.createItem}},[e("i",{staticClass:"bx bx-save",staticStyle:{padding:"4px","font-size":"20px"}})])]),e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--danger rounded-full cursor-pointer",attrs:{title:"Eliminar"},on:{click:function(e){t.addItem=!1,t.value={id:null,name:null}}}},[e("i",{staticClass:"bx bx-x",staticStyle:{padding:"4px","font-size":"20px"}})])])])],1)]):t._e(),e("div",{staticClass:"py-2"},[e("div",{staticClass:"block w-full overflow-x-auto"},[e("table",{staticClass:"items-center w-full border-collapse"},[e("thead",[e("tr",{staticClass:"px-2 border-b-2"},[e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap w-1/12"}),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap w-1/12"},[t._v("#")]),e("th",{staticClass:"py-3 font-bold text-left border-l-0 border-r-0 whitespace-nowrap w-10/12"},[t._v("Nombre")])])]),e("tbody",t._l(t.$store.state.checklistItems.entities,(function(s,a){return e("tr",{key:s.id,staticClass:"hover:bg-gray-100 hover:shadow"},[e("td",{staticClass:"p-2 border-t w-1/12"},[e("div",{staticClass:"flex flex-row text-center"},[e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--primary rounded-full cursor-pointer mr-4",attrs:{title:"Editar"},on:{click:function(e){t.addItem=!0,t.value={id:s.id,name:s.name}}}},[e("i",{staticClass:"bx bx-pencil",staticStyle:{padding:"4px","font-size":"20px"}})])]),e("div",{staticClass:"w-1/2"},[e("button",{staticClass:"el-button--danger rounded-full cursor-pointer",attrs:{title:"Eliminar"},on:{click:function(e){return t.onDelete(s)}}},[e("i",{staticClass:"bx bx-trash",staticStyle:{padding:"4px","font-size":"20px"}})])])])]),e("td",{staticClass:"p-2 border-t w-1/12"},[t._v(t._s(a+1))]),e("td",{staticClass:"p-2 border-t w-10/12"},[t._v(t._s(s.name))])])})),0)])])])])],1):t._e(),t.showInvoicesLogoConfig?e("div",{staticClass:"flex flex-row items-center py-4"},[t._m(2),e("div",{staticClass:"ml-auto"},[e("sa-button",{staticClass:"items-center px-3 py-3 font-bold rounded",attrs:{type:"primary"},on:{click:t.saveInvoicesLogoSize}},[t._v(" "+t._s(t.saveButtonLabel)+" ")])],1)]):t._e(),t.showChecklist?e("div",{staticClass:"flex flex-col space-y-4"},[e("content-card",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[e("div",{staticClass:"w-full flex flex-row",staticStyle:{"justify-content":"space-between"},attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"flex"},[t._v("ConfiguraciÃ³n de tamaÃ±o para logos en facturas")])]),e("div",{staticClass:"py-2"},[e("div",{staticClass:"w-full flex flex-row"},[e("div",{staticClass:"w-full mr-2"},[e("strong",[t._v("Ancho (px)")]),e("el-input",{attrs:{type:"number"},model:{value:t.logo.width,callback:function(e){t.$set(t.logo,"width",e)},expression:"logo.width"}})],1),e("div",{staticClass:"w-full ml-2"},[e("strong",[t._v("Alto (px)")]),e("el-input",{attrs:{type:"number"},model:{value:t.logo.height,callback:function(e){t.$set(t.logo,"height",e)},expression:"logo.height"}})],1)])])])],1):t._e()])},l=[function(){var t=this,e=t._self._c;return e("h1",{staticClass:"text-lg font-bold inline-flex items-center px-3 py-3"},[e("strong",[t._v("Â Politicas y plantillas")])])},function(){var t=this,e=t._self._c;return e("h1",{staticClass:"text-lg font-bold inline-flex items-center px-3 py-3"},[e("strong",[t._v("Â Checklist de RevisiÃ³n")])])},function(){var t=this,e=t._self._c;return e("h1",{staticClass:"text-lg font-bold inline-flex items-center px-3 py-3"},[e("strong",[t._v("Â Logo de Facturas")])])}],i=s("2ef0"),o=s.n(i),n=s("0517"),r=s("7459"),c=s("24bd"),d={name:"PoliciesAndTemplatesForm",mixins:[n["a"]],props:{saveButtonLabel:{type:String,default:()=>"Guardar"},callback:{type:Function,default:()=>{}},showChecklist:{type:Boolean,default:()=>!1},showInvoicesLogoConfig:{type:Boolean,default:()=>!1}},components:{ContentCard:()=>Promise.resolve().then(s.bind(null,"3246"))},data(){let t=100,e=100;const s=localStorage.getItem("samii-invoices-logo-size");if(s){const a=JSON.parse(s.replace("px !important",""));t=parseFloat(a.width),e=parseFloat(a.height)}return{loading:!1,errorMessage:void 0,policy:void 0,addItem:!1,value:{id:null,name:null},logo:{width:t,height:e}}},mounted(){this.load()},watch:{errorMessage:{deep:!0,handler:o.a.debounce((async function(){this.errorMessage&&(await this.$toastr.e(this.errorMessage),this.errorMessage=void 0)}),300)}},methods:{async load(){try{const{policy:t}=await r["a"].PoliciesAndTemplates.read();t&&(this.policy=t)}catch(t){this.errorMessage=this.getErrorMessage(t)}},async save(){this.loading=!0;try{const t=new FormData;t.append("policy",this.policy),await r["a"].PoliciesAndTemplates.update(t),this.$toastr.s("Se actualizo con exito")}catch(t){this.errorMessage=this.getErrorMessage(t)}finally{this.loading=!1,this.callback&&"function"===typeof this.callback&&this.callback()}},async saveItems(){this.$toastr.s("Se actualizo con exito")},async createItem(){this.loading=!0;try{this.value.id?await c["a"].update(this.value):await c["a"].create({name:this.value.name}),this.addItem=!1,this.value={id:null,name:null}}catch(t){this.errorMessage=this.getErrorMessage(t)}finally{this.loading=!1}},onDelete(t){this.$confirm("Â¿EstÃ¡ seguro que desea eliminar este elemento?",{type:"warning",confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then(async()=>{await c["a"].delete(t.id),this.$toastr.s("Se borro con exito")})},saveInvoicesLogoSize(){this.logo.width<=0||this.logo.height<=0?this.$toastr.e("ConfiguraciÃ³n invalida"):(this.$toastr.s("La configuraciÃ³n se guardÃ³ correctamente"),localStorage.setItem("samii-invoices-logo-size",JSON.stringify({width:this.logo.width+"px !important",height:this.logo.height+"px !important"})))}}},u=d,p=s("2877"),f=Object(p["a"])(u,a,l,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0b252a.fb27b2da.js.map